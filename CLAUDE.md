# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際にClaude Code (claude.ai/code) にガイダンスを提供します。

## プロジェクト概要

轟歯科（長野県須坂市の歯科医院）の静的Webサイトです。ローカルSEOとコンバージョンに最適化されたランディングページとして設計されており、Googleマップとオーガニック検索流入で月30〜40件の新患予約獲得を目標としています。

## アーキテクチャ・構造

### マルチページサイト構成
- **index.html**: ヒーローセクション、ペイン共感、解決策、医師紹介、口コミ、診療メニュー、料金、FAQ、アクセスを含むメインランディングページ
- **general-dentistry.html**: 一般歯科の詳細サービスページ
- **oral-surgery.html**: 他院から紹介される患者をターゲットとした口腔外科専門ページ

### CSS設計
モジュラーCSS方式を採用：
- **css/style.css**: 共通コンポーネント、レスポンシブデザイン、共通UIパターンを含むメインスタイルシート
- **css/general.css**: パンくずナビ、ページヘッダー、治療詳細など下層ページ共通のスタイル
- **css/oral_surgery.css**: 口腔外科ページ専用スタイル（専門医メッセージ、症例紹介、料金表）

**重要**: 下層ページ（general-dentistry.html、oral-surgery.html）では、CSSファイルを以下の順序で読み込む必要があります：
1. `css/style.css` (ベーススタイル)
2. `css/general.css` (共通ページ要素)
3. ページ固有CSS (`css/general.css` または `css/oral_surgery.css`)

共通デザインパターン：
- モバイルファーストのレスポンシブデザイン（768pxブレークポイント）
- プライマリブランドカラー #e06d6e を使用した統一カラースキーム
- ボックスシャドウとホバーエフェクトを持つカード型レイアウト
- スケーラビリティのためのremベースサイジング
- レイアウトにCSS GridとFlexboxを使用

### JavaScript機能 (script.js)
単一JavaScriptファイルで以下を処理：
- FAQアコーディオンインタラクション
- 内部ナビゲーションのスムーススクロール
- 予約システムのフォームバリデーション
- スクロール時のヘッダー自動非表示
- 固定CTAボタンの表示制御
- 診療時間のリアルタイムステータス表示
- 画像の遅延読み込み
- スクロールトリガーアニメーション
- Core Web Vitalsパフォーマンス監視

## 開発ワークフロー

### ローカル開発
Wixでのデプロイを想定した静的HTML/CSS/JSサイトです。ビルドプロセスは不要で、ファイルを直接ブラウザで開くか、任意のローカルWebサーバーで配信できます。

### コンテンツ管理
- 画像は `/img/` ディレクトリに説明的な名前で保存
- 診療時間の更新は `script.js` の `updateClinicStatus()` 関数で行う
- 医師プロフィールと資格はHTMLで管理
- 料金情報は各ページのHTMLで維持

### SEO配慮事項
- 各ページにローカルSEO用の構造化メタタグ
- Schema.org マークアップの実装を予定
- ページ速度のための画像最適化（LCP 2秒未満目標）
- Core Web Vitals準拠のモバイルファーストデザイン

## デザインシステム

### カラーパレット
- プライマリ: #e06d6e（コーラルレッド）
- セカンダリ: #d84545（グラデーション用の濃いレッド）
- テキスト: #333（ダークグレー）
- 薄いテキスト: #666（ミディアムグレー）
- 背景: #f8f9fa（ライトグレー）
- アクセント背景: rgba(224, 109, 110, 0.1)（ライトコーラル）

### タイポグラフィ
- プライマリフォント: 'Noto Sans JP'
- フォールバック: 'Yu Gothic', 'YuGothic', sans-serif
- remユニットを使用したレスポンシブフォントサイジング
- モバイルでのビューポートベースフォントスケーリング

### コンポーネントパターン
- **カード**: 白背景、角丸（0.9375rem）、微細なシャドウ
- **ボタン**: グラデーション背景、ホバーアニメーション、統一パディング
- **セクション**: 5rem垂直パディングが標準
- **アイコン**: シンプルさと汎用レンダリングのため絵文字ベース

## 主要機能

### レスポンシブ動作
- モバイルで固定下部CTAボタン（タブレット以上では非表示）
- モバイルでのナビゲーション折りたたみと簡素化レイアウト
- 各ブレークポイントでの異なるグリッドカラム
- モバイルUXのためのスクロール時ヘッダー自動非表示

### コンバージョン最適化
- 複数の目立つ電話CTAボタン
- リアルタイム診療ステータス表示
- 緊急・当日予約メッセージ
- Googleレビュー統合による社会的証明
- 専門医の資格を目立つように表示

### パフォーマンス機能
- Intersection Observerを使用した画像遅延読み込み
- ビューポートに入るまでCSSアニメーションを一時停止
- Core Web Vitals監視
- 最適化された画像サイズとフォーマット

## コンテンツ戦略

### ターゲットペルソナ
1. **忙しい28歳男性**: 急な歯痛で週末の予約が必要
2. **34歳母親**: 子どもの歯科治療 + 自身の親知らず問題
3. **複雑な症例を持つ40代男性**: 他院から口腔外科に紹介される
4. **62歳シニア**: 安全性を重視するインプラント相談

### 独自価値提案（USP）
- 土日祝日の診療可能
- 複雑症例対応のための口腔外科専門医在籍
- 病院レベルの設備（CT、笑気ガス）
- 一般歯科からインプラントまでのワンストップケア
- 大型駐車場とバリアフリーアクセス

## 技術的注意事項

### ブラウザ互換性
グレースフルデグラデーションを持つモダンブラウザ向け設計。使用技術：
- フォールバック付きCSS Grid
- 機能検出付きIntersection Observer
- エラーハンドリング付きES6+ JavaScript

### アナリティクス統合
- 電話コールのGoogle Analyticsイベントトラッキング
- Core Web Vitals測定セットアップ
- フォーム送信トラッキング機能

### メンテナンス領域
- 複数箇所での医師スケジュール更新（HTML + JavaScript）
- 料金更新は複数ファイルでの変更が必要
- パフォーマンス向上のための継続的画像最適化
- 診療時間の正確性の定期レビュー

## 重要な開発注意事項

### CSS読み込み順序
下層ページ（general-dentistry.html、oral-surgery.html）を編集する際は、HTMLの`<head>`セクションで正しいCSS読み込み順序を維持すること：

```html
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/general.css">
<link rel="stylesheet" href="css/[page-specific].css">
```

この順序を守らないと、パンくずナビゲーションやページヘッダーのスタイルが正しく適用されません。

### 共通コンポーネント
以下のCSS クラスは複数ファイルで定義されているため、変更時は影響範囲を確認：
- `.section-header`: セクションタイトル用
- `.page-header`: ページヘッダー用（general.cssで定義）
- `.treatment-grid`: 治療メニューグリッド用
- `.case-studies`: 症例紹介用（oral_surgery.cssで定義）

## プロジェクト進捗記録

### 2025年6月26日 - SEO最適化とサイト構造改善

#### 完了した作業
1. **ファビコン実装**
   - 全HTMLファイルにfavicon.pngリンクを追加
   - 複数サイズのファビコン設定（16x16, 32x32, Apple Touch Icon）
   - PWA対応のmanifest.json参照追加

2. **SEO大幅強化**
   - **メタタグ最適化**: keywords, author, robots, 地理的情報（geo.region, geo.position）
   - **OGP設定**: Facebook/Twitter向けソーシャルメディア最適化
   - **正規URL設定**: canonical URLと代替言語設定
   - **モバイル最適化**: Apple Mobile Web App設定、電話番号検出

3. **構造化データ実装**
   - **LocalBusiness/Dentist Schema**: 歯科医院情報、営業時間、料金、支払い方法
   - **FAQ Schema**: よくある質問7項目の構造化データ
   - **MedicalOrganization Schema**: 医療機関としての専門性と資格情報
   - **WebSite Schema**: サイト基本情報

4. **サイト構造整備**
   - **sitemap.html**: ユーザー向けサイトマップページ作成
   - **sitemap.xml**: 検索エンジン向けXMLサイトマップ
   - **robots.txt**: 検索エンジンクロール制御ファイル

5. **GitHubリポジトリ管理**
   - リポジトリ: `todoroki-dental/todo-dental-hp`
   - すべての変更を適切にコミット・プッシュ済み
   - 認証トークンのセキュア管理

#### 技術的改善点
- **DNS Prefetch**: 外部リソース（fonts.googleapis.com等）の事前DNS解決
- **プリロード**: 重要CSSとフォントのpreload設定
- **パフォーマンス最適化**: ファビコン、フォント、画像の最適化

#### 現在のSEO対応状況
- ✅ 基本メタタグ完備
- ✅ 構造化データ3種類実装
- ✅ OGP・Twitter Card対応
- ✅ サイトマップ・robots.txt実装
- ✅ モバイル最適化完了
- ✅ 地域SEO（長野県須坂市）対応

#### 次の優先作業項目
1. Google Search Console設定とサイトマップ送信
2. Google Analytics・Google Tag Manager導入
3. 画像ファイルの最適化（WebP形式対応）
4. ページ速度のさらなる改善
5. アクセシビリティ監査と改善

#### 技術仕様
- **ドメイン**: `todo-dental.todoroki-h.com`（構造化データ内で指定）
- **ターゲット地域**: 長野県須坂市（座標: 36.6471, 138.3084）
- **主要ペルソナ**: 土日診療を求める患者、親知らず治療、インプラント相談、小児歯科
- **コンバージョン目標**: 月30-40件の新患予約獲得